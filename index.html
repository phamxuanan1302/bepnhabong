<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Giỏ hàng Online</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
    th { background: #f2f2f2; }
    .total { font-weight: bold; }
    .checkout { margin-top: 20px; }
  </style>
</head>
<body>
  <h2>Giỏ hàng Online</h2>
  <form id="orderForm">
    <table>
      <tr>
        <th>Sản phẩm</th>
        <th>Giá (VNĐ)</th>
        <th>Số lượng</th>
      </tr>
      <tr><td>Sản phẩm 1</td><td>10000</td><td><input type="number" name="sp1" value="0" min="0"></td></tr>
      <tr><td>Sản phẩm 2</td><td>20000</td><td><input type="number" name="sp2" value="0" min="0"></td></tr>
      <tr><td>Sản phẩm 3</td><td>15000</td><td><input type="number" name="sp3" value="0" min="0"></td></tr>
      <tr><td>Sản phẩm 4</td><td>25000</td><td><input type="number" name="sp4" value="0" min="0"></td></tr>
      <tr><td>Sản phẩm 5</td><td>30000</td><td><input type="number" name="sp5" value="0" min="0"></td></tr>
      <tr><td>Sản phẩm 6</td><td>12000</td><td><input type="number" name="sp6" value="0" min="0"></td></tr>
      <tr><td>Sản phẩm 7</td><td>18000</td><td><input type="number" name="sp7" value="0" min="0"></td></tr>
      <tr><td>Sản phẩm 8</td><td>22000</td><td><input type="number" name="sp8" value="0" min="0"></td></tr>
      <tr><td>Sản phẩm 9</td><td>27000</td><td><input type="number" name="sp9" value="0" min="0"></td></tr>
      <tr><td>Sản phẩm 10</td><td>35000</td><td><input type="number" name="sp10" value="0" min="0"></td></tr>
    </table>

    <p class="total">Tổng tiền: <span id="total">0</span> VNĐ</p>

    <div class="checkout">
      <h3>Thông tin khách hàng</h3>
      <label>Họ tên: <input type="text" name="name" required></label><br><br>
      <label>Email: <input type="email" name="email" required></label><br><br>
      <label>Địa chỉ: <input type="text" name="address" required></label><br><br>
      <button type="submit">Đặt hàng</button>
    </div>
  </form>

  <script>
    const prices = [10000,20000,15000,25000,30000,12000,18000,22000,27000,35000];
    const inputs = document.querySelectorAll('input[type="number"]');
    const totalEl = document.getElementById('total');

    function updateTotal() {
      let total = 0;
      inputs.forEach((input, i) => {
        total += input.value * prices[i];
      });
      totalEl.textContent = total.toLocaleString();
    }
    inputs.forEach(input => input.addEventListener('input', updateTotal));

    document.getElementById('orderForm').addEventListener('submit', function(e){
      e.preventDefault();
      const formData = new FormData(this);

      fetch("https://script.google.com/macros/s/AKfycbzELUMw2mDv6U2Td5Vr7EnfN5DKYn_-vOc1GLagDwAizoQpCyaAJqRxoJJs_kWWIYoM/exec", { // ⚠️ URL Web App sẽ tự động được gán khi chạy trên Apps Script
        method: "POST",
        body: formData
      })
      .then(res => res.text())
      .then(txt => alert(txt))
      .catch(err => alert("Có lỗi xảy ra: " + err));
    });
  </script>
</body>
</html>
